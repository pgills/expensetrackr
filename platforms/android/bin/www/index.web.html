<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>ExpenseTrackr</title>
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />

    <!-- Bootstrap, WinJS, and App CSS references -->
    <link href="js/core/lib/bootstrap_nav/css/bootstrap.min.css" rel="stylesheet" />
    <link href="js/core/lib/bootstrap_nav/css/bootstrap-theme.css" rel="stylesheet" />
    <link href="js/core/lib/bootstrap_nav/css/bootstrap-theme-nav.css" rel="stylesheet" />
    <link href="js/core/lib/winjs.2.1.3.7/css/ui-dark.css" rel="stylesheet" />
    <link href="css/cordova.css" rel="stylesheet" />

    <!-- Bootstrap and jQuery references -->
    <script src="js/core/lib/jquery/jquery-2.1.0.js"></script>
    <script src="js/core/lib/bootstrap_nav/js/bootstrap.js"></script>

    <!-- WinJS references -->
    <script src="js/core/lib/winjs.2.1.3.7/js/base.js"></script>
    <script src="js/core/lib/winjs.2.1.3.7/js/ui.js?v1.0.2"></script>


    <!-- Bing Maps references -->
    <!--<script type="text/javascript" src="ms-appx:///Bing.Maps.JavaScript//js/veapicore.js"></script> -->
    <script type="text/javascript" src="http://ecn.dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=7.0"></script>
   

    <!-- Azure Mobile Services references -->
    <!--<script src="js/core/lib/MobileServices.js"></script> -->
    <script src="http://ajax.aspnetcdn.com/ajax/mobileservices/MobileServices.Web-1.1.3.min.js"></script>

    <!-- ExpenseTrackr references -->
    <script src="js/core/services/locationService.js"></script>
    <script src="js/core/services/localStorageService.js"></script>
    <script src="js/core/services/expenseService.js"></script>
    <script src="js/core/services/cameraService.js"></script>
    <script src="js/core/models/expenses.js"></script>
    <script src="js/core/viewModels/expense.js"></script>
    <script src="js/core/viewModels/expenses.js"></script>
    <script src="js/core/viewModels/newExpense.js"></script>
    <script src="js/core/viewModels/settings.js"></script>
    <script src="js/core/lib/userControl.js"></script>
    <script type="text/javascript" src="js/app.js"></script>

    <!-- Cordova references -->
    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="js/index.web.js"></script>
</head>
<body>
    <div class="app">
        <nav class="navbar navbar-default navbar-fixed-top" role="navigation" style="padding-top: 20px;">
            <div class="container-fluid">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle win-type-xx-large" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand big" href="#">ExpenseTrackr</a>
                    <a class="navbar-brand menu-button" href="#" onclick="App.DataContext.refresh()"><span class="glyphicon glyphicon-refresh"></span></a>
                </div>
                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" class="navbar-brand menu-button" onclick="App.DataContext.resetData()"><span class="glyphicon glyphicon-minus-sign"></span> New data</a></li>
                        <li>
                        <li><a href="#" class="navbar-brand menu-button" onclick="App.DataContext.showExpense()"><span class="glyphicon glyphicon-pencil"></span> New expense</a></li>
                    </ul>
                </div><!-- /.navbar-collapse -->
            </div><!-- /.container-fluid -->
           
        </nav>
        <div class="template" data-win-control="WinJS.Binding.Template" style="display: none;">
            <div class="item">
                <img class="thumb" data-win-bind="src: url" />
                <div class="item-body">
                    <div class="title win-type-x-large win-type-ellipsis" data-win-bind="textContent: title"></div>
                    <div class="text descrip win-type-x-large darker win-type-ellipsis" data-win-bind="textContent: text"></div>
                </div>
                <div class="item-date">
                    <div class="win-type-x-large win-type-ellipsis" data-win-bind="textContent: datestring"></div>
                    <div class="win-type-x-large win-type-ellipsis darker" data-win-bind="textContext: timestring"></div>
                </div>
                <div class="cost win-type-x-large">
                    <span>$</span>
                    <span data-win-bind="textContent: cost">0</span>
                    <div class="darker">USD</div>
                </div>
            </div>
        </div>
        <div class="host">
            <progress class="win-progress spinner win" data-win-bind="style.display: App.DataContext.Expenses.progress Binding.noneIfFalse"></progress>
            <div class="list" data-win-control="WinJS.UI.ListView"
             data-win-options="{itemTemplate: select('.template'), layout: {type: WinJS.UI.ListLayout}}"
             data-win-bind="winControl.itemDataSource: App.DataContext.Expenses.list.dataSource;">
            </div>
            <div class="wizard hide">
                <div class="header win-type-xx-large">New expense</div>
                <div class="pane left">
                    <h2>Description</h2>
                    <input id="title" class="win-type-large" type="text" value="New Expense" data-win-bind="value: App.DataContext.NewExpense.expense.title Binding.twoWayChangeBind" /><br />
                    <h2 class="location" onclick="App.DataContext.getLocation(event)">Location <span class="glyphicon glyphicon-globe"></span></h2>
                    <div id="map"></div>
                    <input id="lat" class="win-type-large title lat" style="display:none;" type="text" value="Lat" data-win-bind="value: App.DataContext.NewExpense.expense.lat Binding.twoWayChangeBind" /><br />
                    <input id="long" class="win-type-large title long" style="display:none", type="text" value="Long" data-win-bind="value: App.DataContext.NewExpense.expense.long Binding.twoWayChangeBind" />
                </div>
                <div class="pane right">
                    <h2>Amount</h2>
                    <input id="cost" type="number" value="0" data-win-bind="value: App.DataContext.NewExpense.expense.cost Binding.twoWayChangeBind" /><br />
                    <h2 class="picture" onclick="App.DataContext.getPicture(event)">Picture <span class="glyphicon glyphicon-camera"></span></h2>
                    <img id="image" onclick="App.DataContext.getPicture(event)"/><br />
                </div>
                <div class="footer">
                    <div class="buttons">
                        <button type="submit" onclick="App.DataContext.submitNewExpese(event)">Submit</button>&nbsp;&nbsp;<button class="cancel" onclick="App.DataContext.hideExpense(event)">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        app.initialize();
    </script>
</body>
</html>